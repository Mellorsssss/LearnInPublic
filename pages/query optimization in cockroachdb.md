- big picture：
	- cost-based optimizer
- sql life:
	- ![image.png](../assets/image_1677499515447_0.png)
- parse
	- 解析成ast，看起来没有bind catalog中的信息
- optbuild
	- 进行semantic analysis，这个时候应该会bind一些catalog中的信息
- normalize
	- 应用一些“基本上肯定会有收益“的优化策略，例如：
		- not(not(expr))转换成expr这样的优化
		- 谓词下推
		- 子查询去关联化
		- 常量折叠
- exploration
	- 对已经生成的plan中的各个部分尝试使用一些特殊的rule
		- join reorder
		- 尝试不同join算法
		- index selection
- distsql plan
	- 综合考虑locality，生成最后的分布式执行计划
-
- choose plan
	- 使用cost-based
		- 硬件配置
		- 数据分布
		- 算子类型
		- 每个算子涉及的row数量
			- statistics指标
				- row count
				- ...
			- 在执行计划过程中收集信息
- locality
	- 主要分成region